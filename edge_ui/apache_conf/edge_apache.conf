
<IfModule mod_alias.c>
	ScriptAlias /edge_ui/cgi-bin/ /opt/apps/edge/edge_ui/cgi-bin/
	<Directory "/opt/apps/edge/edge_ui/cgi-bin">
		AllowOverride None
		Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
		AddHandler cgi-script .cgi .pl
		Order allow,deny
		allow from all
	</Directory>
</IfModule>

<IfModule alias_module>
	Alias /edge_ui/ "/opt/apps/edge/edge_ui/"
	<Directory "/opt/apps/edge/edge_ui">
		Options Indexes FollowSymlinks
		AllowOverride None
		Require all granted
	</Directory>
</IfModule>

<Files ~ "\.(fast?|gbk|gff|faa|ffn|fna|fsa|tbl)$">
        ForceType application/octet-stream
        Header set Content-Disposition attachment
</Files>

<Directory /opt/apps/edge/edge_ui/*/>
        Options -Indexes
</Directory>

<Directory /var/www/edge_ui/>
  Order allow,deny
  Allow from all
</Directory>

# for user management tomcat server to be visible on port 80
ProxyPass /userManagement http://localhost:8080/userManagement
ProxyPassReverse /userManagement http://localhost:8080/userManagement
ProxyPass /userManagementWS http://localhost:8080/userManagementWS
ProxyPassReverse /userManagementWS http://localhost:8080/userManagementWS

#for JBrowse
AddType application/octet-stream .bam .bami

<IfModule mod_gzip.c>
    mod_gzip_item_exclude "(\.jsonz|\.txtz)"
</IfModule>
<IfModule setenvif.c>
    SetEnvIf Request_URI "(\.jsonz|\.txtz)" no-gzip dont-vary
</IfModule>
<IfModule mod_headers.c>
	<FilesMatch "(\.jsonz|\.txtz)">
		Header onsuccess set Content-Encoding gzip
	</FilesMatch>
</IfModule>

<Directory /var/www/edge_ui/JBrowse/>
  AllowOverride FileInfo
</Directory>
